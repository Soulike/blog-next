(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[280],{29280:function(e,t,n){"use strict";n.r(t),n.d(t,{Article:function(){return ne}});var r=n(47568),o=n(70603),i=n(34051),a=n.n(i),c=n(85893),s=n(95002),l=n(9008),u=n.n(l),f=n(11163),m=n(67294),d=n(70480),p=n(54938),h=n(37273);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v=function(){function e(t,n,r,o,i,a,c,s){y(this,e),this.id=t,this.title=n,this.content=r,this.category=o,this.publicationTime=i,this.modificationTime=a,this.pageViews=c,this.isVisible=s}return e.from=function(t){return new e(t.id,t.title,t.content,t.category,t.publicationTime,t.modificationTime,t.pageViews,t.isVisible)},e}(),b=function(){function e(t,n){y(this,e),this.id=t,this.name=n}return e.from=function(t){return new e(t.id,t.name)},e}(),g=n(24019),x=n(40666),Z=n(41080),w=n(9982),E=n(87462),N=n(97685),S=n(4942),C=n(89739),j=n(8751),_=n(4340),T=n(18429),k=n(97937),I=n(21640),A=n(11475),O=n(78860),D=n(45605),M=n(94184),H=n.n(M),L=n(62874),V=n(53124);var P=n(96159),q=n(15671),W=n(43144),B=n(32531),R=n(73568),F=function(e){(0,B.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,q.Z)(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return(0,W.Z)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,r=e.children,o=this.state,i=o.error,a=o.info,c=a&&a.componentStack?a.componentStack:null,s="undefined"===typeof t?(i||"").toString():t,l="undefined"===typeof n?c:n;return i?m.createElement(J,{type:"error",message:s,description:m.createElement("pre",null,l)}):r}}]),n}(m.Component),X=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},U={success:C.Z,info:O.Z,error:_.Z,warning:I.Z},Y={success:j.Z,info:D.Z,error:T.Z,warning:A.Z},$=function(e){var t=e.description,n=e.icon,r=e.prefixCls,o=e.type,i=(t?Y:U)[o]||null;return n?(0,P.wm)(n,m.createElement("span",{className:"".concat(r,"-icon")},n),(function(){return{className:H()("".concat(r,"-icon"),(0,S.Z)({},n.props.className,n.props.className))}})):m.createElement(i,{className:"".concat(r,"-icon")})},z=function(e){var t=e.isClosable,n=e.closeText,r=e.prefixCls,o=e.closeIcon,i=e.handleClose;return t?m.createElement("button",{type:"button",onClick:i,className:"".concat(r,"-close-icon"),tabIndex:0},n?m.createElement("span",{className:"".concat(r,"-close-text")},n):o):null},G=function(e){var t,n=e.description,r=e.prefixCls,o=e.message,i=e.banner,a=e.className,c=void 0===a?"":a,s=e.style,l=e.onMouseEnter,u=e.onMouseLeave,f=e.onClick,d=e.afterClose,p=e.showIcon,h=e.closable,y=e.closeText,v=e.closeIcon,b=void 0===v?m.createElement(k.Z,null):v,g=e.action,x=X(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),Z=m.useState(!1),w=(0,N.Z)(Z,2),C=w[0],j=w[1],_=m.useRef(),T=m.useContext(V.E_),I=T.getPrefixCls,A=T.direction,O=I("alert",r),D=function(e){var t;j(!0),null===(t=x.onClose)||void 0===t||t.call(x,e)},M=!!y||h,P=function(){var e=x.type;return void 0!==e?e:i?"warning":"info"}(),q=!(!i||void 0!==p)||p,W=H()(O,"".concat(O,"-").concat(P),(t={},(0,S.Z)(t,"".concat(O,"-with-description"),!!n),(0,S.Z)(t,"".concat(O,"-no-icon"),!q),(0,S.Z)(t,"".concat(O,"-banner"),!!i),(0,S.Z)(t,"".concat(O,"-rtl"),"rtl"===A),t),c),B=function(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}(x);return m.createElement(L.Z,{visible:!C,motionName:"".concat(O,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:d},(function(e){var t=e.className,r=e.style;return m.createElement("div",(0,E.Z)({ref:_,"data-show":!C,className:H()(W,t),style:(0,E.Z)((0,E.Z)({},s),r),onMouseEnter:l,onMouseLeave:u,onClick:f,role:"alert"},B),q?m.createElement($,{description:n,icon:x.icon,prefixCls:O,type:P}):null,m.createElement("div",{className:"".concat(O,"-content")},o?m.createElement("div",{className:"".concat(O,"-message")},o):null,n?m.createElement("div",{className:"".concat(O,"-description")},n):null),g?m.createElement("div",{className:"".concat(O,"-action")},g):null,m.createElement(z,{isClosable:!!M,closeText:y,prefixCls:O,closeIcon:b,handleClose:D}))}))};G.ErrorBoundary=F;var J=G,K=n(22260),Q=n(78947),ee=n.n(Q);function te(e){var t=e.title,n=e.contentHtml,r=e.publicationTime,o=e.modificationTime,i=e.category,a=e.loading,s=new Date(r),l=new Date(o),u=(new Date).getTime()-l.getTime();return(0,c.jsx)("div",{className:ee().Article,children:(0,c.jsxs)(Z.Z,{loading:a,active:!0,title:!0,paragraph:{rows:20},children:[(0,c.jsxs)("header",{className:ee().header,children:[(0,c.jsx)("h1",{className:ee().title,children:t}),(0,c.jsxs)("div",{className:ee().info,children:[(0,c.jsxs)(w.Z,{color:"purple",children:[(0,c.jsx)(g.Z,{className:ee().icon}),(0,c.jsx)("span",{children:"".concat(s.getFullYear(),"-").concat((s.getMonth()+1).toString().padStart(2,"0"),"-").concat(s.getDate().toString().padStart(2,"0"))})]}),(0,c.jsxs)(w.Z,{color:"blue",children:[(0,c.jsx)(x.Z,{className:ee().icon}),(0,c.jsx)("span",{children:i?i.name:""})]})]})]}),u>2592e6?(0,c.jsx)(J,{className:ee().alert,type:"warning",banner:!0,message:"\u672c\u6587\u6700\u540e\u7f16\u8f91\u4e8e ".concat(Math.floor(u/864e5)," \u5929\u524d\uff0c\u53ef\u80fd\u5df2\u4e0d\u5177\u6709\u65f6\u6548\u6027\uff0c\u8bf7\u8c28\u614e\u9605\u8bfb")}):null,(0,c.jsx)(K.q,{HTMLContent:n})]})})}function ne(){var e=(0,m.useState)(new v(0,"","",0,"","",0,!0)),t=e[0],n=e[1],i=(0,m.useState)(new b(0,"")),l=i[0],y=i[1],g=(0,m.useState)(!0),x=g[0],Z=g[1],w=(0,m.useState)(""),E=w[0],N=w[1],S=(0,h.Z)(),C=(0,f.useRouter)();(0,m.useEffect)((function(){var e=function(){var e=(0,r.Z)(a().mark((function e(t){var r,i,c,l,u,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.d2.getById(t);case 2:if(null!==(r=e.sent)){e.next=6;break}return C.replace("/404"),e.abrupt("return");case 6:return n(r),i=r.category,c=r.content,e.t0=o.Z,e.next=11,Promise.all([d.WD.getById(i),S]);case 11:e.t1=e.sent,l=(0,e.t0)(e.t1,2),u=l[0],f=l[1],null===u&&s.ZP.error("\u7c7b\u522b\u4e0d\u5b58\u5728"),y(u),N(f.makeHtml(c));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(Z(!0),C.isReady){var t,i=null!==(t=C.query.id)&&void 0!==t?t:C.query.articleId;if("string"!==typeof i)C.replace(p.yt[p.DV.INDEX]);else{var c=Number.parseInt(i);Number.isNaN(c)?C.replace(p.yt[p.DV.INDEX]):e(c).finally((function(){return Z(!1)}))}}}),[C,S]);var j=t.title,_=t.publicationTime,T=t.modificationTime;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u(),{children:x?null:(0,c.jsx)("title",{children:"".concat(j," - Soulike \u7684\u535a\u5ba2")})}),(0,c.jsx)(te,{title:j,contentHtml:E,publicationTime:_,modificationTime:T,loading:x,category:l})]})}},22260:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(5152),o=n.n(r),i=n.e(364).then(n.bind(n,23364)).then((function(e){return e.ArticleShower})),a=o()((function(){return i}),{ssr:!1})},37273:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(67294),o=n(8843);function i(){return(0,r.useContext)(o.s)}},78947:function(e){e.exports={Article:"Style_Article__HIvpd",header:"Style_header__E2ixV",title:"Style_title__6x3uL",info:"Style_info__Z9MC_",alert:"Style_alert__ZAsDj"}},11163:function(e,t,n){e.exports=n(90387)},70603:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return o}})}}]);