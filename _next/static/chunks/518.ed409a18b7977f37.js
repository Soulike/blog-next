(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[518],{56518:function(e,t,n){"use strict";n.r(t),n.d(t,{Article:function(){return Q}});var r=n(70603),o=n(85893),i=n(9008),a=n.n(i),c=n(11163),l=n(67294),s=n(4101);var u=n(37273),f=n(39308);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m=function(){function e(t,n,r,o,i,a,c,l){d(this,e),this.id=t,this.title=n,this.content=r,this.category=o,this.publicationTime=i,this.modificationTime=a,this.pageViews=c,this.isVisible=l}return e.from=function(t){return new e(t.id,t.title,t.content,t.category,t.publicationTime,t.modificationTime,t.pageViews,t.isVisible)},e}(),p=function(){function e(t,n){d(this,e),this.id=t,this.name=n}return e.from=function(t){return new e(t.id,t.name)},e}(),h=n(24019),v=n(40666),y=n(41080),g=n(9982),b=n(87462),x=n(97685),Z=n(4942),E=n(89739),N=n(8751),w=n(4340),S=n(18429),C=n(97937),j=n(21640),_=n(11475),T=n(78860),k=n(45605),I=n(94184),M=n.n(I),A=n(62874),O=n(53124);var D=n(96159),H=n(15671),L=n(43144),q=n(32531),P=n(73568),V=function(e){(0,q.Z)(n,e);var t=(0,P.Z)(n);function n(){var e;return(0,H.Z)(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return(0,L.Z)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,r=e.children,o=this.state,i=o.error,a=o.info,c=a&&a.componentStack?a.componentStack:null,s="undefined"===typeof t?(i||"").toString():t,u="undefined"===typeof n?c:n;return i?l.createElement(Y,{type:"error",message:s,description:l.createElement("pre",null,u)}):r}}]),n}(l.Component),W=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},B={success:E.Z,info:T.Z,error:w.Z,warning:j.Z},R={success:N.Z,info:k.Z,error:S.Z,warning:_.Z},F=function(e){var t=e.description,n=e.icon,r=e.prefixCls,o=e.type,i=(t?R:B)[o]||null;return n?(0,D.wm)(n,l.createElement("span",{className:"".concat(r,"-icon")},n),(function(){return{className:M()("".concat(r,"-icon"),(0,Z.Z)({},n.props.className,n.props.className))}})):l.createElement(i,{className:"".concat(r,"-icon")})},K=function(e){var t=e.isClosable,n=e.closeText,r=e.prefixCls,o=e.closeIcon,i=e.handleClose;return t?l.createElement("button",{type:"button",onClick:i,className:"".concat(r,"-close-icon"),tabIndex:0},n?l.createElement("span",{className:"".concat(r,"-close-text")},n):o):null},U=function(e){var t,n=e.description,r=e.prefixCls,o=e.message,i=e.banner,a=e.className,c=void 0===a?"":a,s=e.style,u=e.onMouseEnter,f=e.onMouseLeave,d=e.onClick,m=e.afterClose,p=e.showIcon,h=e.closable,v=e.closeText,y=e.closeIcon,g=void 0===y?l.createElement(C.Z,null):y,E=e.action,N=W(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),w=l.useState(!1),S=(0,x.Z)(w,2),j=S[0],_=S[1],T=l.useRef(),k=l.useContext(O.E_),I=k.getPrefixCls,D=k.direction,H=I("alert",r),L=function(e){var t;_(!0),null===(t=N.onClose)||void 0===t||t.call(N,e)},q=!!v||h,P=function(){var e=N.type;return void 0!==e?e:i?"warning":"info"}(),V=!(!i||void 0!==p)||p,B=M()(H,"".concat(H,"-").concat(P),(t={},(0,Z.Z)(t,"".concat(H,"-with-description"),!!n),(0,Z.Z)(t,"".concat(H,"-no-icon"),!V),(0,Z.Z)(t,"".concat(H,"-banner"),!!i),(0,Z.Z)(t,"".concat(H,"-rtl"),"rtl"===D),t),c),R=function(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}(N);return l.createElement(A.Z,{visible:!j,motionName:"".concat(H,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:m},(function(e){var t=e.className,r=e.style;return l.createElement("div",(0,b.Z)({ref:T,"data-show":!j,className:M()(B,t),style:(0,b.Z)((0,b.Z)({},s),r),onMouseEnter:u,onMouseLeave:f,onClick:d,role:"alert"},R),V?l.createElement(F,{description:n,icon:N.icon,prefixCls:H,type:P}):null,l.createElement("div",{className:"".concat(H,"-content")},o?l.createElement("div",{className:"".concat(H,"-message")},o):null,n?l.createElement("div",{className:"".concat(H,"-description")},n):null),E?l.createElement("div",{className:"".concat(H,"-action")},E):null,l.createElement(K,{isClosable:!!q,closeText:v,prefixCls:H,closeIcon:g,handleClose:L}))}))};U.ErrorBoundary=V;var Y=U,$=n(22260),z=n(78947),G=n.n(z);function J(e){var t=e.title,n=e.contentHtml,r=e.publicationTime,i=e.modificationTime,a=e.category,c=e.loading,l=new Date(r),s=new Date(i),u=(new Date).getTime()-s.getTime();return(0,o.jsx)("div",{className:G().Article,children:(0,o.jsxs)(y.Z,{loading:c,active:!0,title:!0,paragraph:{rows:20},children:[(0,o.jsxs)("header",{className:G().header,children:[(0,o.jsx)("h1",{className:G().title,children:t}),(0,o.jsxs)("div",{className:G().info,children:[(0,o.jsxs)(g.Z,{color:"purple",children:[(0,o.jsx)(h.Z,{className:G().icon}),(0,o.jsx)("span",{children:"".concat(l.getFullYear(),"-").concat((l.getMonth()+1).toString().padStart(2,"0"),"-").concat(l.getDate().toString().padStart(2,"0"))})]}),(0,o.jsxs)(g.Z,{color:"blue",children:[(0,o.jsx)(v.Z,{className:G().icon}),(0,o.jsx)("span",{children:a?a.name:""})]})]})]}),u>2592e6?(0,o.jsx)(Y,{className:G().alert,type:"warning",banner:!0,message:"\u672c\u6587\u6700\u540e\u7f16\u8f91\u4e8e ".concat(Math.floor(u/864e5)," \u5929\u524d\uff0c\u53ef\u80fd\u5df2\u4e0d\u5177\u6709\u65f6\u6548\u6027\uff0c\u8bf7\u8c28\u614e\u9605\u8bfb")}):null,(0,o.jsx)($.q,{HTMLContent:n})]})})}function Q(){var e=(0,c.useRouter)(),t=(0,l.useMemo)((function(){return new m(0,"","",0,"","",0,!0)}),[]),n=(0,l.useMemo)((function(){return new p(0,"")}),[]),i=(0,r.Z)((0,f.K)("id"),1)[0],d=function(e){var t=(0,l.useState)(!0),n=t[0],r=t[1],o=(0,l.useState)(null),i=o[0],a=o[1];return(0,l.useEffect)((function(){a(null),r(!0),isNaN(e)?r(!1):s.d2.getById(e).then((function(e){return a(e)})).finally((function(){return r(!1)}))}),[e]),{loading:n,article:i}}(Number.parseInt(i)),h=d.loading,v=d.article;(0,l.useEffect)((function(){h||null!==v||e.replace("/404")}),[v,h,e]);var y,g=(0,u.Z)(null===v||void 0===v?void 0:v.content),b=g.loading,x=g.html,Z=function(e){var t=(0,l.useState)(!0),n=t[0],r=t[1],o=(0,l.useState)(null),i=o[0],a=o[1];return(0,l.useEffect)((function(){a(null),r(!0),isNaN(e)?r(!1):s.WD.getById(e).then((function(e){return a(e)})).finally((function(){return r(!1)}))}),[e]),{loading:n,category:i}}(null!==(y=null===v||void 0===v?void 0:v.category)&&void 0!==y?y:NaN),E=Z.loading,N=Z.category,w=(0,l.useMemo)((function(){return h||E||b}),[h,E,b]),S=(0,l.useMemo)((function(){return null!==v&&void 0!==v?v:t}),[v,t]),C=S.title,j=S.publicationTime,_=S.modificationTime;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a(),{children:w?null:(0,o.jsx)("title",{children:"".concat(C," - Soulike \u7684\u535a\u5ba2")})}),(0,o.jsx)(J,{title:C,contentHtml:null!==x&&void 0!==x?x:"",publicationTime:j,modificationTime:_,loading:w,category:null!==N&&void 0!==N?N:n})]})}},22260:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(5152),o=n.n(r),i=n.e(364).then(n.bind(n,23364)).then((function(e){return e.ArticleShower})),a=o()((function(){return i}),{ssr:!1})},37273:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67294);function o(e){var t=(0,r.useState)(!0),o=t[0],i=t[1],a=(0,r.useState)(null),c=a[0],l=a[1];return(0,r.useEffect)((function(){i(!0),l(null),void 0!==e&&Promise.all([n.e(787),n.e(50)]).then(n.bind(n,81050)).then((function(t){var n=t.markdownConverter.makeHtml(e);l(n)})).finally((function(){return i(!1)}))}),[e]),{loading:o,html:c}}},39308:function(e,t,n){"use strict";n.d(t,{K:function(){return a}});var r=n(26042),o=n(11163),i=n(67294);function a(e){var t=(0,o.useRouter)(),n=t.query[e],a="string"===typeof n?n:void 0===n?null:n[0],c=(0,i.useCallback)((function(n){var o=(0,r.Z)({},t.query);null!==n?o[e]=n:delete o[e],t.push({pathname:t.pathname,query:o})}),[e,t]);return[a,c]}},78947:function(e){e.exports={Article:"Style_Article__HIvpd",header:"Style_header__E2ixV",title:"Style_title__6x3uL",info:"Style_info__Z9MC_",alert:"Style_alert__ZAsDj"}},70603:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return o}})}}]);