(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[652],{7652:function(e,t,n){"use strict";n.r(t),n.d(t,{Article:function(){return U}});var r=n(4051),o=n.n(r),i=n(5893),a=n(9008),c=n.n(a),s=n(1163),l=n(7294),u=n(8340),f=n(9380),m=n(1949);var d=function(){function e(t,n,r,o,i,a,c,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.title=n,this.content=r,this.category=o,this.publicationTime=i,this.modificationTime=a,this.pageViews=c,this.isVisible=s}return e.from=function(t){return new e(t.id,t.title,t.content,t.category,t.publicationTime,t.modificationTime,t.pageViews,t.isVisible)},e}();var p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.name=n}return e.from=function(t){return new e(t.id,t.name)},e}(),h=n(4019),v=n(666),y=n(1080),g=n(9982),x=n(7462),w=n(4942),b=n(7685),Z=n(7937),N=n(8751),E=n(1475),S=n(5605),j=n(8429),_=n(9739),C=n(1640),k=n(8860),T=n(4340),I=n(2874),D=n(4184),M=n.n(D),O=n(3124);var A=n(5671),H=n(3144),L=n(2531),V=n(3568),P=function(e){(0,L.Z)(n,e);var t=(0,V.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return(0,H.Z)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,r=e.children,o=this.state,i=o.error,a=o.info,c=a&&a.componentStack?a.componentStack:null,s="undefined"===typeof t?(i||"").toString():t,u="undefined"===typeof n?c:n;return i?l.createElement(X,{type:"error",message:s,description:l.createElement("pre",null,u)}):r}}]),n}(l.Component),q=n(6159),W=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},B={success:_.Z,info:k.Z,error:T.Z,warning:C.Z},R={success:N.Z,info:S.Z,error:j.Z,warning:E.Z},F=function(e){var t,n=e.description,r=e.prefixCls,o=e.message,i=e.banner,a=e.className,c=void 0===a?"":a,s=e.style,u=e.onMouseEnter,f=e.onMouseLeave,m=e.onClick,d=e.afterClose,p=e.showIcon,h=e.closable,v=e.closeText,y=e.closeIcon,g=void 0===y?l.createElement(Z.Z,null):y,N=e.action,E=W(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),S=l.useState(!1),j=(0,b.Z)(S,2),_=j[0],C=j[1],k=l.useRef(),T=l.useContext(O.E_),D=T.getPrefixCls,A=T.direction,H=D("alert",r),L=function(e){var t;C(!0),null===(t=E.onClose)||void 0===t||t.call(E,e)},V=!!v||h,P=function(){var e=E.type;return void 0!==e?e:i?"warning":"info"}(),F=!(!i||void 0!==p)||p,X=M()(H,"".concat(H,"-").concat(P),(t={},(0,w.Z)(t,"".concat(H,"-with-description"),!!n),(0,w.Z)(t,"".concat(H,"-no-icon"),!F),(0,w.Z)(t,"".concat(H,"-banner"),!!i),(0,w.Z)(t,"".concat(H,"-rtl"),"rtl"===A),t),c),Y=function(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}(E);return l.createElement(I.Z,{visible:!_,motionName:"".concat(H,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:d},(function(e){var t=e.className,r=e.style;return l.createElement("div",(0,x.Z)({ref:k,"data-show":!_,className:M()(X,t),style:(0,x.Z)((0,x.Z)({},s),r),onMouseEnter:u,onMouseLeave:f,onClick:m,role:"alert"},Y),F?function(){var e=E.icon,t=(n?R:B)[P]||null;return e?(0,q.wm)(e,l.createElement("span",{className:"".concat(H,"-icon")},e),(function(){return{className:M()("".concat(H,"-icon"),(0,w.Z)({},e.props.className,e.props.className))}})):l.createElement(t,{className:"".concat(H,"-icon")})}():null,l.createElement("div",{className:"".concat(H,"-content")},o?l.createElement("div",{className:"".concat(H,"-message")},o):null,n?l.createElement("div",{className:"".concat(H,"-description")},n):null),N?l.createElement("div",{className:"".concat(H,"-action")},N):null,V?l.createElement("button",{type:"button",onClick:L,className:"".concat(H,"-close-icon"),tabIndex:0},v?l.createElement("span",{className:"".concat(H,"-close-text")},v):g):null)}))};F.ErrorBoundary=P;var X=F,Y=n(5524),z=n(8202),G=n.n(z);function J(e){var t=e.title,n=e.contentHtml,r=e.publicationTime,o=e.modificationTime,a=e.category,c=e.loading,s=new Date(r),l=new Date(o),u=(new Date).getTime()-l.getTime();return(0,i.jsx)("div",{className:G().Article,children:(0,i.jsxs)(y.Z,{loading:c,active:!0,title:!0,paragraph:{rows:20},children:[(0,i.jsxs)("header",{className:G().header,children:[(0,i.jsx)("h1",{className:G().title,children:t}),(0,i.jsxs)("div",{className:G().info,children:[(0,i.jsxs)(g.Z,{color:"purple",children:[(0,i.jsx)(h.Z,{className:G().icon}),(0,i.jsx)("span",{children:"".concat(s.getFullYear(),"-").concat((s.getMonth()+1).toString().padStart(2,"0"),"-").concat(s.getDate().toString().padStart(2,"0"))})]}),(0,i.jsxs)(g.Z,{color:"blue",children:[(0,i.jsx)(v.Z,{className:G().icon}),(0,i.jsx)("span",{children:a?a.name:""})]})]})]}),u>2592e6?(0,i.jsx)(X,{className:G().alert,type:"warning",banner:!0,message:"\u672c\u6587\u6700\u540e\u7f16\u8f91\u4e8e ".concat(Math.floor(u/864e5)," \u5929\u524d\uff0c\u53ef\u80fd\u5df2\u4e0d\u5177\u6709\u65f6\u6548\u6027\uff0c\u8bf7\u8c28\u614e\u9605\u8bfb")}):null,(0,i.jsx)(Y.q,{HTMLContent:n})]})})}function K(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){K(i,r,o,a,c,"next",e)}function c(e){K(i,r,o,a,c,"throw",e)}a(void 0)}))}}function U(){var e=(0,l.useState)(new d(0,"","",0,"","",0,!0)),t=e[0],n=e[1],r=(0,l.useState)(new p(0,"")),a=r[0],h=r[1],v=(0,l.useState)(!0),y=v[0],g=v[1],x=(0,l.useState)(""),w=x[0],b=x[1],Z=(0,m.Z)(),N=(0,s.useRouter)();(0,l.useEffect)((function(){var e=function(){var e=Q(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.d2.getById(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=Q(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.WD.getById(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(g(!0),N.isReady){var r,i=null!==(r=N.query.id)&&void 0!==r?r:N.query.articleId;if("string"!==typeof i)N.replace(f.yt[f.DV.INDEX]);else{var a=Number.parseInt(i);Number.isNaN(a)?N.replace(f.yt[f.DV.INDEX]):e(a).then((function(e){if(null!==e){n(e);var r=e.category;return t(r)}})).then((function(e){null!==e&&void 0!==e&&h(e)})).finally((function(){return g(!1)}))}}}),[N]),(0,l.useEffect)((function(){g(!0),Z.then((function(e){b(e.makeHtml(t.content))})).finally((function(){return g(!1)}))}),[t.content,Z]);var E=t.title,S=t.publicationTime,j=t.modificationTime;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c(),{children:y?null:(0,i.jsx)("title",{children:"".concat(E," - Soulike \u7684\u535a\u5ba2")})}),(0,i.jsx)(J,{title:E,contentHtml:w,publicationTime:S,modificationTime:j,loading:y,category:a})]})}},5524:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(5152),o=n.n(r),i=n.e(684).then(n.bind(n,9684)).then((function(e){return e.ArticleShower})),a=o()((function(){return i}),{ssr:!1})},1949:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7294),o=n(8465);function i(){return(0,r.useContext)(o.s)}},8202:function(e){e.exports={Article:"Style_Article__HIvpd",header:"Style_header__E2ixV",title:"Style_title__6x3uL",info:"Style_info__Z9MC_",alert:"Style_alert__ZAsDj"}},1163:function(e,t,n){e.exports=n(880)}}]);